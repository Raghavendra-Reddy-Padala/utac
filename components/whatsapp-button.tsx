"use client"

import { useState, useEffect } from "react"

export default function WhatsAppButton() {
  const [isVisible, setIsVisible] = useState(false)

  useEffect(() => {
    const handleScroll = () => {
      if (window.scrollY > 300) {
        setIsVisible(true)
      } else {
        setIsVisible(false)
      }
    }

    window.addEventListener("scroll", handleScroll)
    return () => {
      window.removeEventListener("scroll", handleScroll)
    }
  }, [])

  return (
    <a
      href="https://wa.me/919876543210?text=Hello%20ÃœTAC,%20I'm%20interested%20in%20your%20services."
      target="_blank"
      rel="noopener noreferrer"
      className={`fixed bottom-8 right-4 z-50 flex items-center justify-center h-14 w-14 rounded-full bg-[#25D366] shadow-lg transition-all duration-300 ${
        isVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-10"
      }`}
      aria-label="Chat on WhatsApp"
    >
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M17.415 14.382C17.117 14.233 15.656 13.515 15.384 13.415C15.112 13.316 14.914 13.267 14.715 13.565C14.517 13.861 13.948 14.531 13.775 14.729C13.601 14.927 13.428 14.952 13.131 14.802C12.834 14.654 11.886 14.286 10.764 13.276C9.885 12.486 9.298 11.512 9.124 11.214C8.951 10.917 9.107 10.756 9.257 10.608C9.392 10.474 9.557 10.261 9.706 10.087C9.856 9.914 9.904 9.789 10.004 9.591C10.103 9.392 10.054 9.219 9.98 9.07C9.904 8.921 9.32 7.458 9.07 6.861C8.826 6.28 8.578 6.361 8.396 6.352C8.222 6.344 8.023 6.342 7.825 6.342C7.627 6.342 7.305 6.417 7.033 6.715C6.762 7.012 5.994 7.731 5.994 9.194C5.994 10.656 7.058 12.07 7.207 12.268C7.355 12.467 9.291 15.447 12.239 16.73C13.052 17.085 13.683 17.296 14.174 17.452C15.003 17.708 15.755 17.673 16.343 17.595C17.003 17.508 18.201 16.876 18.451 16.18C18.7 15.485 18.7 14.887 18.626 14.76C18.552 14.633 18.353 14.557 18.055 14.408L17.415 14.382Z"
          fill="white"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M20.312 3.689C18.051 1.427 15.032 0.165 11.812 0.164H11.805C8.59 0.165 5.575 1.426 3.316 3.686C1.055 5.945 -0.206 8.957 -0.205 12.17C-0.205 13.559 0.081 14.93 0.635 16.2L-0.205 20.644C-0.278 21.163 0.15 21.648 0.668 21.72C0.719 21.728 0.77 21.732 0.821 21.732C0.87 21.732 0.918 21.729 0.967 21.722L5.482 20.887C6.734 21.416 8.078 21.689 9.439 21.689H9.446C12.66 21.689 15.675 20.427 17.935 18.167C20.195 15.908 21.456 12.895 21.455 9.683C21.455 6.468 20.194 3.449 17.935 1.19L20.312 3.689ZM11.806 19.928H11.8C10.599 19.928 9.413 19.67 8.335 19.17L8.111 19.043L5.268 19.557L5.788 16.769L5.651 16.538C5.114 15.43 4.837 14.215 4.837 12.973C4.838 6.743 9.937 1.644 16.171 1.645C19.116 1.645 21.866 2.788 23.883 4.805C25.9 6.822 27.042 9.572 27.042 12.513C27.041 18.743 21.943 23.843 16.809 23.842C15.476 23.842 14.166 23.549 12.982 22.986H12.79L11.806 19.928Z"
          fill="white"
        />
      </svg>
    </a>
  )
}

